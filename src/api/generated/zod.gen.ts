// This file is auto-generated by @hey-api/openapi-ts

import { z } from "zod";

export const zSearchRequest = z.object({
  limit: z.optional(z.int().gte(1).lte(200)).default(50),
  offset: z.optional(z.int().gte(0)).default(0),
  status: z.optional(
    z.array(
      z.enum(["for_sale", "ready_to_build", "for_rent", "sold", "off_market"]),
    ),
  ),
  city: z.optional(z.string()),
  state_code: z.optional(z.string().length(2)),
  postal_code: z.optional(z.string().regex(/^\d{5}$/)),
  county: z.optional(z.string()),
  list_price_min: z.optional(z.int().gte(0)),
  list_price_max: z.optional(z.int().gte(0)),
  beds_min: z.optional(z.int().gte(0)),
  beds_max: z.optional(z.int().gte(0)),
  baths_min: z.optional(z.int().gte(0)),
  baths_max: z.optional(z.int().gte(0)),
  sqft_min: z.optional(z.int().gte(0)),
  sqft_max: z.optional(z.int().gte(0)),
  type: z.optional(
    z.array(
      z.enum([
        "single_family",
        "multi_family",
        "condo",
        "townhome",
        "mobile",
        "land",
        "farm",
        "other",
      ]),
    ),
  ),
  sort: z.optional(
    z.object({
      direction: z.optional(z.enum(["asc", "desc"])),
      field: z.optional(
        z.enum([
          "list_date",
          "list_price",
          "beds",
          "baths",
          "sqft",
          "lot_sqft",
          "price_reduced_date",
        ]),
      ),
    }),
  ),
});

export const zPropertyListing = z.object({
  property_id: z.optional(z.string()),
  listing_id: z.optional(z.string()),
  status: z.optional(
    z.enum(["for_sale", "for_rent", "sold", "off_market", "ready_to_build"]),
  ),
  list_price: z.optional(z.int()),
  list_price_min: z.optional(z.int()),
  list_price_max: z.optional(z.int()),
  list_date: z.optional(z.iso.datetime()),
  last_sold_date: z.optional(z.iso.datetime()),
  last_sold_price: z.optional(z.int()),
  description: z.optional(
    z.object({
      beds: z.optional(z.int()),
      beds_min: z.optional(z.int()),
      beds_max: z.optional(z.int()),
      baths: z.optional(z.number()),
      baths_min: z.optional(z.number()),
      baths_max: z.optional(z.number()),
      baths_full: z.optional(z.int()),
      baths_half: z.optional(z.int()),
      sqft: z.optional(z.int()),
      sqft_min: z.optional(z.int()),
      sqft_max: z.optional(z.int()),
      lot_sqft: z.optional(z.int()),
      rooms: z.optional(z.int()),
      stories: z.optional(z.int()),
      garage: z.optional(z.int()),
      pool: z.optional(z.boolean()),
      year_built: z.optional(z.int()),
      type: z.optional(z.string()),
      text: z.optional(z.string()),
    }),
  ),
  location: z.optional(
    z.object({
      address: z.optional(
        z.object({
          line: z.optional(z.string()),
          street_number: z.optional(z.string()),
          street_name: z.optional(z.string()),
          street_suffix: z.optional(z.string()),
          city: z.optional(z.string()),
          state: z.optional(z.string()),
          state_code: z.optional(z.string()),
          postal_code: z.optional(z.string()),
          county: z.optional(z.string()),
          country: z.optional(z.string()),
          coordinate: z.optional(
            z.object({
              lat: z.optional(z.number()),
              lon: z.optional(z.number()),
            }),
          ),
        }),
      ),
      neighborhoods: z.optional(
        z.array(
          z.object({
            name: z.optional(z.string()),
            city: z.optional(z.string()),
            state_code: z.optional(z.string()),
          }),
        ),
      ),
    }),
  ),
  primary_photo: z.optional(
    z.object({
      href: z.optional(z.url()),
    }),
  ),
  photos: z.optional(
    z.array(
      z.object({
        href: z.optional(z.url()),
      }),
    ),
  ),
  tags: z.optional(z.array(z.string())),
  flags: z.optional(
    z.object({
      is_new_construction: z.optional(z.boolean()),
      is_new_listing: z.optional(z.boolean()),
      is_pending: z.optional(z.boolean()),
      is_contingent: z.optional(z.boolean()),
      is_foreclosure: z.optional(z.boolean()),
      is_price_reduced: z.optional(z.boolean()),
    }),
  ),
  open_houses: z.optional(
    z.array(
      z.object({
        start_date: z.optional(z.iso.datetime()),
        end_date: z.optional(z.iso.datetime()),
      }),
    ),
  ),
});

export const zSearchResponse = z.object({
  data: z.optional(
    z.object({
      home_search: z.optional(
        z.object({
          count: z.optional(z.int()),
          total: z.optional(z.int()),
          results: z.optional(z.array(zPropertyListing)),
        }),
      ),
    }),
  ),
});

export const zPropertyDetailRequest = z.object({
  property_id: z.string(),
});

export const zPropertyDetail = zPropertyListing.and(
  z.object({
    property_history: z.optional(
      z.array(
        z.object({
          date: z.optional(z.iso.date()),
          event_name: z.optional(z.string()),
          price: z.optional(z.int()),
          source_name: z.optional(z.string()),
        }),
      ),
    ),
    tax_history: z.optional(
      z.array(
        z.object({
          year: z.optional(z.int()),
          tax: z.optional(z.number()),
          assessment: z.optional(
            z.object({
              total: z.optional(z.number()),
              building: z.optional(z.number()),
              land: z.optional(z.number()),
            }),
          ),
        }),
      ),
    ),
    estimates: z.optional(
      z.object({
        estimate: z.optional(z.int()),
        estimate_high: z.optional(z.int()),
        estimate_low: z.optional(z.int()),
        rent_estimate: z.optional(z.int()),
      }),
    ),
  }),
);

export const zPropertyDetailResponse = z.object({
  data: z.optional(
    z.object({
      home: z.optional(zPropertyDetail),
    }),
  ),
});

export const zSearchPropertiesData = z.object({
  body: zSearchRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Successful response
 */
export const zSearchPropertiesResponse = zSearchResponse;

export const zGetPropertyDetailData = z.object({
  body: zPropertyDetailRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Successful response
 */
export const zGetPropertyDetailResponse = zPropertyDetailResponse;
